<!DOCTYPE html>
<html>
<head>
    <title>GVH Admin Panel</title>

    <style>
        body { font-family: Arial; padding: 20px; }
        #chatBox { border: 1px solid #222; height: 350px; overflow-y: auto; padding: 10px; }
        #adminInput { width: 80%; padding: 10px; }
    </style>

    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-database.js"></script>
</head>

<body>

<h2>GVH Shop â€” Admin Chat Control</h2>

<div id="chatBox"></div>

<br>

<input id="adminInput" placeholder="Reply to customer..." />
<button id="replyBtn">Send Reply</button>

<script>
const firebaseConfig = {
  apiKey: "AIzaSyBYyc6NM2tw-dOICdGV4qm3MDLxNbROKec",
  authDomain: "gvh-chat.firebaseapp.com",
  projectId: "gvh-chat",
  storageBucket: "gvh-chat.firebasestorage.app",
  messagingSenderId: "861854705186",
  appId: "1:861854705186:web:d7b3d593451f5295e88c7b",
  databaseURL: "https://gvh-chat-default-rtdb.firebaseio.com/"
};

firebase.initializeApp(firebaseConfig);
const db = firebase.database();

const chatBox = document.getElementById("chatBox");

document.getElementById("replyBtn").onclick = () => {
    let msg = document.getElementById("adminInput").value;
    if (msg.trim() === "") return;

    db.ref("messages").push({
        sender: "admin",
        text: msg,
        timestamp: Date.now()
    });

    document.getElementById("adminInput").value = "";
};

db.ref("messages").on("child_added", snap => {
    let data = snap.val();
    let div = document.createElement("div");
    div.innerHTML = `<b>${data.sender}:</b> ${data.text}`;
    chatBox.appendChild(div);
});
</script>
</body>
</html>
