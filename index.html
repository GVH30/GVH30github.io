<!DOCTYPE html>
<html>
<head>
    <title>GVH Shop | Chat Support</title>
    <style>
        body { font-family: Arial; padding: 20px; }
        #chatBox { border: 1px solid #ccc; padding: 15px; height: 300px; overflow-y: auto; }
        #messageInput { width: 80%; padding: 10px; }
        #sendButton { padding: 10px 15px; }
    </style>

    <!-- Firebase -->
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-database.js"></script>
</head>
<body>

<h2>GVH Shop - Customer Support</h2>

<div id="chatBox"></div>

<br>

<input id="messageInput" placeholder="Type your message..." />
<button id="sendButton">Send</button>

<script>
const firebaseConfig = {
  apiKey: "AIzaSyBYyc6NM2tw-dOICdGV4qm3MDLxNbROKec",
  authDomain: "gvh-chat.firebaseapp.com",
  projectId: "gvh-chat",
  storageBucket: "gvh-chat.firebasestorage.app",
  messagingSenderId: "861854705186",
  appId: "1:861854705186:web:d7b3d593451f5295e88c7b",
  databaseURL: "https://gvh-chat-default-rtdb.firebaseio.com/"
};

firebase.initializeApp(firebaseConfig);
const db = firebase.database();

const chatBox = document.getElementById("chatBox");
const sendButton = document.getElementById("sendButton");

sendButton.onclick = () => {
    let msg = document.getElementById("messageInput").value;
    if (msg.trim() === "") return;

    db.ref("messages").push({
        sender: "customer",
        text: msg,
        timestamp: Date.now()
    });

    document.getElementById("messageInput").value = "";
};

db.ref("messages").on("child_added", snap => {
    let data = snap.val();
    let div = document.createElement("div");
    div.innerHTML = `<b>${data.sender}:</b> ${data.text}`;
    chatBox.appendChild(div);
});
</script>
</body>
</html>
